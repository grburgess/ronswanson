{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "7a3cc8c6",
   "metadata": {},
   "source": [
    "# Intro\n",
    "\n",
    "So you need to build a table model? 3ML via astromodels provides you with nice\n",
    "facilities to accomplish this task. But often, we need to interface with\n",
    "computationally expensive simulations and require many runs of these\n",
    "simulations. This is a very generic task and Ron Swanson wants to make things as\n",
    "simple as possible for you. Making things complicated is annoying.\n",
    "\n",
    "![alt text](https://raw.githubusercontent.com/grburgess/ronswanson/master/docs/media/mad.jpg)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f18a2ed6",
   "metadata": {},
   "source": [
    "## Example with a Band function\n",
    "\n",
    "Let's say we want to make a table model from a Band function.\n",
    "\n",
    "We pick a parameter grid and a grid of energies for our simulation. We can enter\n",
    "these in a YAML file:\n",
    "\n",
    "```yaml\n",
    "alpha:\n",
    "  custom: no\n",
    "  vmin: -1\n",
    "  vmax: 0\n",
    "  scale: \"linear\"\n",
    "  n_points: 10\n",
    "\n",
    "beta:\n",
    "  custom: no\n",
    "  vmin: -3\n",
    "  vmax: -2\n",
    "  scale: \"linear\"\n",
    "  n_points: 10\n",
    "\n",
    "epeak:\n",
    "  custom: yes\n",
    "  values: [50., 69.74 , 97.29, 135.72, 189.32, 264.097, 368.4, 513.9, 716.87, 1000.]\n",
    "\n",
    "energy_grid:\n",
    "  custom: no\n",
    "  vmin: 10\n",
    "  vmax: 1000\n",
    "  scale: \"log\"\n",
    "  n_points: 50\n",
    "\n",
    "\n",
    "```\n",
    "\n",
    "As can be seen, we can specify the parameter/energy grids ourselves, or we can\n",
    "specify their ranges and let it be done for us.\n",
    "\n",
    "It is possible that a simulation outputs more than one type of array (photons,\n",
    "electrons, neutrinos, etc.). In this case, each output may have its own energy\n",
    "grid. These can be specified as ```energy_grid_0```,\n",
    "```energy_grid_1```...```energy_grid_n```. More on how to grab the output from\n",
    "these below.\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "### The Simulation class\n",
    "\n",
    "Now we need to make a class for the simulation. We will inherit from the\n",
    "simulation class and specify a `_run_call` function that tells the program how\n",
    "to run the simulation for a given set of parameters. This function **must**\n",
    "return a dictionary of arrays of photon / particle fluxes for the given\n",
    "energies. The keys of the dictionary should be ```output_0```,\n",
    "```output_1```...```output_n``` for each type of output corresponding to the\n",
    "energy grids above.\n",
    "\n",
    "\n",
    "\n",
    "```python\n",
    "from typing import Dict\n",
    "\n",
    "import numpy as np\n",
    "from astromodels import Band\n",
    "import ronswanson as dukesilver\n",
    "\n",
    "\n",
    "class BandSimulation(dukesilver.Simulation):\n",
    "    def __init__(\n",
    "        self,\n",
    "        simulation_id: int,\n",
    "        parameter_set: Dict[str, float],\n",
    "        energy_grid: np.ndarray,\n",
    "        out_file: str,\n",
    "    ) -> None:\n",
    "        super().__init__(simulation_id, parameter_set, energy_grid, out_file)\n",
    "\n",
    "    def _run_call(self) -> np.ndarray:\n",
    "\n",
    "        b = Band(\n",
    "            K=1,\n",
    "            alpha=self._parameter_set[\"alpha\"],\n",
    "            beta=self._parameter_set[\"beta\"],\n",
    "            xp=self._parameter_set[\"epeak\"],\n",
    "        )\n",
    "\n",
    "        return dict(output_0=b(self._energy_grid))\n",
    "\n",
    "```"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "6d4399d5",
   "metadata": {},
   "source": [
    "### The Simulation Builder\n",
    "\n",
    "Now we need to tell the simulation builder a few things so it can construct our\n",
    "files for us. We have stored this YAML file in the repo itself. You should use\n",
    "your own!\n",
    "\n",
    "The `SimulationBuilder` class takes a parameter grid, the name of the file that\n",
    "will be created, the import line for the custom simulation class, the number of\n",
    "cores and nodes to execute on.\n",
    "\n",
    "We configure this with a YAML file.\n",
    "\n",
    "```yaml\n",
    "# the import line to get our simulation\n",
    "# we ALWAYS import as Simulation\n",
    "import_line: \"from ronswanson.band_simulation import BandSimulation as Simulation\"\n",
    "\n",
    "# the parameter grid\n",
    "parameter_grid: \"test_params.yml\"\n",
    "\n",
    "# name of our database\n",
    "out_file: database.h5\n",
    "\n",
    "# clean out the simulation directory after\n",
    "# the run. It is defaulted to yes\n",
    "clean: yes\n",
    "\n",
    "simulation:\n",
    "\n",
    "  # number of multi-process jobs\n",
    "  n_mp_jobs: 8\n",
    "\n",
    "\n",
    "\n",
    "\n",
    "```"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "08bda671",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-09-25T17:20:04.125026Z",
     "iopub.status.busy": "2022-09-25T17:20:04.124736Z",
     "iopub.status.idle": "2022-09-25T17:20:06.406139Z",
     "shell.execute_reply": "2022-09-25T17:20:06.404977Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #00ff00; text-decoration-color: #00ff00\">17:20:05 </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">WARNING </span> <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> The naima package is not available. Models that depend on it will not be         </span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/functions_1D/functions.py\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">functions.py</span></a><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">:</span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/functions_1D/functions.py#48\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">48</span></a>\n",
       "<span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span>         <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\">available                                                                         </span><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">               </span>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[38;5;46m17:20:05\u001b[0m\u001b[38;5;46m \u001b[0m\u001b[38;5;134mWARNING \u001b[0m \u001b[1;38;5;251m The naima package is not available. Models that depend on it will not be        \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b]8;id=718833;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/functions_1D/functions.py\u001b\\\u001b[2mfunctions.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=746143;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/functions_1D/functions.py#48\u001b\\\u001b[2m48\u001b[0m\u001b]8;;\u001b\\\n",
       "\u001b[38;5;46m         \u001b[0m         \u001b[1;38;5;251mavailable                                                                        \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b[2m               \u001b[0m\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">WARNING </span> <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> The GSL library or the pygsl wrapper cannot be loaded. Models that depend on it  </span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/functions_1D/functions.py\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">functions.py</span></a><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">:</span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/functions_1D/functions.py#69\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">69</span></a>\n",
       "<span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span>         <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\">will not be available.                                                            </span><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">               </span>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[38;5;46m        \u001b[0m\u001b[38;5;46m \u001b[0m\u001b[38;5;134mWARNING \u001b[0m \u001b[1;38;5;251m The GSL library or the pygsl wrapper cannot be loaded. Models that depend on it \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b]8;id=351602;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/functions_1D/functions.py\u001b\\\u001b[2mfunctions.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=394139;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/functions_1D/functions.py#69\u001b\\\u001b[2m69\u001b[0m\u001b]8;;\u001b\\\n",
       "\u001b[38;5;46m         \u001b[0m         \u001b[1;38;5;251mwill not be available.                                                           \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b[2m               \u001b[0m\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">WARNING </span> <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> The ebltable package is not available. Models that depend on it will not be     </span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/functions_1D/absorption.py\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">absorption.py</span></a><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">:</span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/functions_1D/absorption.py#36\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">36</span></a>\n",
       "<span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span>         <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\">available                                                                        </span><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">                </span>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[38;5;46m        \u001b[0m\u001b[38;5;46m \u001b[0m\u001b[38;5;134mWARNING \u001b[0m \u001b[1;38;5;251m The ebltable package is not available. Models that depend on it will not be    \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b]8;id=902036;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/functions_1D/absorption.py\u001b\\\u001b[2mabsorption.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=445750;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/functions_1D/absorption.py#36\u001b\\\u001b[2m36\u001b[0m\u001b]8;;\u001b\\\n",
       "\u001b[38;5;46m         \u001b[0m         \u001b[1;38;5;251mavailable                                                                       \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b[2m                \u001b[0m\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #00ff00; text-decoration-color: #00ff00\">17:20:06 </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">WARNING </span> <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> We have set the min_value of K to </span><span style=\"color: #c0c0c0; text-decoration-color: #c0c0c0; font-weight: bold\">1e-99</span><span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> because there was a postive transform   </span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">parameter.py</span></a><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">:</span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py#704\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">704</span></a>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[38;5;46m17:20:06\u001b[0m\u001b[38;5;46m \u001b[0m\u001b[38;5;134mWARNING \u001b[0m \u001b[1;38;5;251m We have set the min_value of K to \u001b[0m\u001b[1;37m1e-99\u001b[0m\u001b[1;38;5;251m because there was a postive transform  \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b]8;id=34698;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py\u001b\\\u001b[2mparameter.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=244064;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py#704\u001b\\\u001b[2m704\u001b[0m\u001b]8;;\u001b\\\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">WARNING </span> <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> We have set the min_value of K to </span><span style=\"color: #c0c0c0; text-decoration-color: #c0c0c0; font-weight: bold\">1e-99</span><span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> because there was a postive transform   </span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">parameter.py</span></a><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">:</span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py#704\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">704</span></a>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[38;5;46m        \u001b[0m\u001b[38;5;46m \u001b[0m\u001b[38;5;134mWARNING \u001b[0m \u001b[1;38;5;251m We have set the min_value of K to \u001b[0m\u001b[1;37m1e-99\u001b[0m\u001b[1;38;5;251m because there was a postive transform  \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b]8;id=351385;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py\u001b\\\u001b[2mparameter.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=798640;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py#704\u001b\\\u001b[2m704\u001b[0m\u001b]8;;\u001b\\\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">WARNING </span> <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> We have set the min_value of K to </span><span style=\"color: #c0c0c0; text-decoration-color: #c0c0c0; font-weight: bold\">1e-99</span><span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> because there was a postive transform   </span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">parameter.py</span></a><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">:</span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py#704\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">704</span></a>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[38;5;46m        \u001b[0m\u001b[38;5;46m \u001b[0m\u001b[38;5;134mWARNING \u001b[0m \u001b[1;38;5;251m We have set the min_value of K to \u001b[0m\u001b[1;37m1e-99\u001b[0m\u001b[1;38;5;251m because there was a postive transform  \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b]8;id=96660;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py\u001b\\\u001b[2mparameter.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=816887;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py#704\u001b\\\u001b[2m704\u001b[0m\u001b]8;;\u001b\\\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">WARNING </span> <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> We have set the min_value of K to </span><span style=\"color: #c0c0c0; text-decoration-color: #c0c0c0; font-weight: bold\">1e-99</span><span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> because there was a postive transform   </span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">parameter.py</span></a><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">:</span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py#704\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">704</span></a>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[38;5;46m        \u001b[0m\u001b[38;5;46m \u001b[0m\u001b[38;5;134mWARNING \u001b[0m \u001b[1;38;5;251m We have set the min_value of K to \u001b[0m\u001b[1;37m1e-99\u001b[0m\u001b[1;38;5;251m because there was a postive transform  \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b]8;id=347290;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py\u001b\\\u001b[2mparameter.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=192648;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py#704\u001b\\\u001b[2m704\u001b[0m\u001b]8;;\u001b\\\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">WARNING </span> <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> We have set the min_value of F to </span><span style=\"color: #c0c0c0; text-decoration-color: #c0c0c0; font-weight: bold\">1e-99</span><span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> because there was a postive transform   </span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">parameter.py</span></a><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">:</span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py#704\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">704</span></a>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[38;5;46m        \u001b[0m\u001b[38;5;46m \u001b[0m\u001b[38;5;134mWARNING \u001b[0m \u001b[1;38;5;251m We have set the min_value of F to \u001b[0m\u001b[1;37m1e-99\u001b[0m\u001b[1;38;5;251m because there was a postive transform  \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b]8;id=638223;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py\u001b\\\u001b[2mparameter.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=47986;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py#704\u001b\\\u001b[2m704\u001b[0m\u001b]8;;\u001b\\\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">WARNING </span> <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> We have set the min_value of K to </span><span style=\"color: #c0c0c0; text-decoration-color: #c0c0c0; font-weight: bold\">1e-99</span><span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> because there was a postive transform   </span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">parameter.py</span></a><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">:</span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py#704\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">704</span></a>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[38;5;46m        \u001b[0m\u001b[38;5;46m \u001b[0m\u001b[38;5;134mWARNING \u001b[0m \u001b[1;38;5;251m We have set the min_value of K to \u001b[0m\u001b[1;37m1e-99\u001b[0m\u001b[1;38;5;251m because there was a postive transform  \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b]8;id=979178;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py\u001b\\\u001b[2mparameter.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=942859;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/core/parameter.py#704\u001b\\\u001b[2m704\u001b[0m\u001b]8;;\u001b\\\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "import ronswanson\n",
    "\n",
    "sb = ronswanson.SimulationBuilder.from_yaml(\"sim_build.yml\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "441651b1",
   "metadata": {},
   "source": [
    "Now a python file will be written to the disk which you can run to create your\n",
    "simulation runs. we can have a look at the file.\n",
    "\n",
    "```\n",
    "from ronswanson.band_simulation import BandSimulation as Simulation\n",
    "from joblib import Parallel, delayed\n",
    "from ronswanson import ParameterGrid\n",
    "\n",
    "pg = ParameterGrid.from_yaml('/Users/jburgess/coding/projects/ronswanson/parameters.yml')\n",
    "def func(i):\n",
    "\tparams = pg.at_index(i)\n",
    "\tsimulation = Simulation(i, params, pg.energy_grid.grid,'/Users/jburgess/coding/projects/ronswanson/database.h5')\n",
    "\tsimulation.run()\n",
    "\n",
    "iteration = [i for i in range(0, pg.n_points)]\n",
    "\n",
    "Parallel(n_jobs=8)(delayed(func)(i) for i in iteration)\n",
    "\n",
    "```\n",
    "\n",
    "<!-- #region --> Now this simply uses `joblib` to farm out the iterations over\n",
    "the parameter combinations. If iterations are to also be divided across HPC\n",
    "nodes, the python script will be modified and an associated `SLURM` script will\n",
    "be generated."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e33639dc",
   "metadata": {},
   "source": [
    "#### SLURM and advanced options\n",
    "\n",
    "Configuring for SLURM and SBATCH systems is similar, but there are a few more options. ```ronswanson``` will set up bash scripts that will submit jobs to complete the simulations and then gather them into a database.\n",
    "\n",
    "Here is an example script:\n",
    "\n",
    "```yaml\n",
    "\n",
    "# the import line to get our simulation\n",
    "# we ALWAYS import as Simulation\n",
    "import_line: \"from ronswanson.band_simulation import BandSimulation as Simulation\"\n",
    "\n",
    "# the parameter grid\n",
    "parameter_grid: \"test_params.yml\"\n",
    "\n",
    "# name of our database\n",
    "out_file: database.h5\n",
    "\n",
    "simulation:\n",
    "\n",
    "  # number of multi-process jobs PER node\n",
    "  n_mp_jobs: 9\n",
    "\n",
    "  # number of cpus to request per node (leave room for threads)\n",
    "  n_cores_per_node: 72\n",
    "\n",
    "  # number of runs per node\n",
    "  # here, the 9 mp jobs will take turns with these 500 runs\n",
    "  run_per_node: 500\n",
    "\n",
    "  # the switch to say we are performing SLURM job\n",
    "  use_nodes: yes\n",
    "\n",
    "  # optional maximum number of nodes to request\n",
    "  # if more than this are required, multiple\n",
    "  # submission scripts are generated\n",
    "  max_nodes: 300\n",
    "\n",
    "  # the max run time for each job in the array\n",
    "  time:\n",
    "    hrs: 10\n",
    "    min: 30\n",
    "    sec: 0\n",
    "\n",
    "gather:\n",
    "\n",
    "  # after the simulations run\n",
    "  # you submit and MPI job that collects the simualtions\n",
    "\n",
    "  # number of simulations to collect per MPI rank\n",
    "  n_gather_per_core: 100\n",
    "\n",
    "  # number of cpus per node\n",
    "  n_cores_per_node: 70\n",
    "\n",
    "  # maximum job time\n",
    "  time:\n",
    "    hrs: 1\n",
    "    min: 0\n",
    "    sec: 0\n",
    "\n",
    "```\n",
    "\n",
    "\n",
    "Additional configuration of SLURM jobs can be handle with the ```ronswanson``` configuration."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8ad7ac88",
   "metadata": {},
   "source": [
    "### The Database\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "fd8da08d",
   "metadata": {},
   "source": [
    "Upon running the script, an HDF5 database of the runs is created which contains\n",
    "all the information needed to build a table model in `3ML`.  <!-- #endregion -->"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "568a9f01",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-09-25T17:20:06.413235Z",
     "iopub.status.busy": "2022-09-25T17:20:06.411107Z",
     "iopub.status.idle": "2022-09-25T17:20:06.417349Z",
     "shell.execute_reply": "2022-09-25T17:20:06.416515Z"
    },
    "lines_to_next_cell": 2
   },
   "outputs": [],
   "source": [
    "from ronswanson.utils.package_data import get_path_of_data_file\n",
    "from ronswanson import Database"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "e6622a0f",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-09-25T17:20:06.420825Z",
     "iopub.status.busy": "2022-09-25T17:20:06.420560Z",
     "iopub.status.idle": "2022-09-25T17:20:06.432225Z",
     "shell.execute_reply": "2022-09-25T17:20:06.431376Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "OrderedDict([('alpha', array([-1. , -0.5,  0. ,  0.5,  1. ], dtype=float32)),\n",
       "             ('beta',\n",
       "              array([-3.  , -2.75, -2.5 , -2.25, -2.  ], dtype=float32)),\n",
       "             ('epeak',\n",
       "              array([  50.   ,   69.74 ,   97.29 ,  135.72 ,  189.32 ,  264.097,\n",
       "                      368.4  ,  513.9  ,  716.87 , 1000.   ], dtype=float32))])"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "db = Database.from_file(get_path_of_data_file(\"test_database.h5\"))\n",
    "db.parameter_ranges"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "9786850b",
   "metadata": {},
   "source": [
    "Now we can use the database to construct and save a table model for `3ML`"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "c2d67b4c",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-09-25T17:20:06.435733Z",
     "iopub.status.busy": "2022-09-25T17:20:06.435289Z",
     "iopub.status.idle": "2022-09-25T17:20:06.727608Z",
     "shell.execute_reply": "2022-09-25T17:20:06.726704Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">WARNING </span> <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> Energy unit is not a Quantity instance, so units has not been provided.    </span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/template_model.py\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">template_model.py</span></a><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">:</span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/template_model.py#106\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">106</span></a>\n",
       "<span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span>         <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\">Using keV.                                                                  </span><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">                     </span>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[38;5;46m        \u001b[0m\u001b[38;5;46m \u001b[0m\u001b[38;5;134mWARNING \u001b[0m \u001b[1;38;5;251m Energy unit is not a Quantity instance, so units has not been provided.   \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b]8;id=840845;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/template_model.py\u001b\\\u001b[2mtemplate_model.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=53041;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/template_model.py#106\u001b\\\u001b[2m106\u001b[0m\u001b]8;;\u001b\\\n",
       "\u001b[38;5;46m         \u001b[0m         \u001b[1;38;5;251mUsing keV.                                                                 \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b[2m                     \u001b[0m\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/vnd.jupyter.widget-view+json": {
       "model_id": "d796e4d69c8348379a2022dadb943f8e",
       "version_major": 2,
       "version_minor": 0
      },
      "text/plain": [
       "  0%|          | 0/250 [00:00<?, ?it/s]"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<ul>\n",
       "\n",
       "<li>description: a new model for 3ML</li>\n",
       "\n",
       "<li>formula: n.a.</li>\n",
       "\n",
       "<li>parameters: \n",
       "<ul>\n",
       "\n",
       "<li>K: \n",
       "<ul>\n",
       "\n",
       "<li>value: 1.0</li>\n",
       "\n",
       "<li>desc: None</li>\n",
       "\n",
       "<li>min_value: None</li>\n",
       "\n",
       "<li>max_value: None</li>\n",
       "\n",
       "<li>unit: </li>\n",
       "\n",
       "<li>is_normalization: False</li>\n",
       "\n",
       "<li>delta: 0.1</li>\n",
       "\n",
       "<li>free: True</li>\n",
       "\n",
       "</ul>\n",
       "\n",
       "</li>\n",
       "\n",
       "<li>scale: \n",
       "<ul>\n",
       "\n",
       "<li>value: 1.0</li>\n",
       "\n",
       "<li>desc: None</li>\n",
       "\n",
       "<li>min_value: None</li>\n",
       "\n",
       "<li>max_value: None</li>\n",
       "\n",
       "<li>unit: </li>\n",
       "\n",
       "<li>is_normalization: False</li>\n",
       "\n",
       "<li>delta: 0.1</li>\n",
       "\n",
       "<li>free: True</li>\n",
       "\n",
       "</ul>\n",
       "\n",
       "</li>\n",
       "\n",
       "<li>alpha: \n",
       "<ul>\n",
       "\n",
       "<li>value: 0.0</li>\n",
       "\n",
       "<li>desc: None</li>\n",
       "\n",
       "<li>min_value: -1.0</li>\n",
       "\n",
       "<li>max_value: 1.0</li>\n",
       "\n",
       "<li>unit: </li>\n",
       "\n",
       "<li>is_normalization: False</li>\n",
       "\n",
       "<li>delta: 0.1</li>\n",
       "\n",
       "<li>free: True</li>\n",
       "\n",
       "</ul>\n",
       "\n",
       "</li>\n",
       "\n",
       "<li>beta: \n",
       "<ul>\n",
       "\n",
       "<li>value: -2.5</li>\n",
       "\n",
       "<li>desc: None</li>\n",
       "\n",
       "<li>min_value: -3.0</li>\n",
       "\n",
       "<li>max_value: -2.0</li>\n",
       "\n",
       "<li>unit: </li>\n",
       "\n",
       "<li>is_normalization: False</li>\n",
       "\n",
       "<li>delta: 0.25</li>\n",
       "\n",
       "<li>free: True</li>\n",
       "\n",
       "</ul>\n",
       "\n",
       "</li>\n",
       "\n",
       "<li>epeak: \n",
       "<ul>\n",
       "\n",
       "<li>value: 226.70849609375</li>\n",
       "\n",
       "<li>desc: None</li>\n",
       "\n",
       "<li>min_value: 50.0</li>\n",
       "\n",
       "<li>max_value: 1000.0</li>\n",
       "\n",
       "<li>unit: </li>\n",
       "\n",
       "<li>is_normalization: False</li>\n",
       "\n",
       "<li>delta: 22.670849609375</li>\n",
       "\n",
       "<li>free: True</li>\n",
       "\n",
       "</ul>\n",
       "\n",
       "</li>\n",
       "\n",
       "</ul>\n",
       "\n",
       "</li>\n",
       "\n",
       "</ul>\n"
      ],
      "text/plain": [
       "  * description: a new model for 3ML\n",
       "  * formula: n.a.\n",
       "  * parameters:\n",
       "    * K:\n",
       "      * value: 1.0\n",
       "      * desc: None\n",
       "      * min_value: null\n",
       "      * max_value: null\n",
       "      * unit: ''\n",
       "      * is_normalization: false\n",
       "      * delta: 0.1\n",
       "      * free: true\n",
       "    * scale:\n",
       "      * value: 1.0\n",
       "      * desc: None\n",
       "      * min_value: null\n",
       "      * max_value: null\n",
       "      * unit: ''\n",
       "      * is_normalization: false\n",
       "      * delta: 0.1\n",
       "      * free: true\n",
       "    * alpha:\n",
       "      * value: 0.0\n",
       "      * desc: None\n",
       "      * min_value: -1.0\n",
       "      * max_value: 1.0\n",
       "      * unit: ''\n",
       "      * is_normalization: false\n",
       "      * delta: 0.1\n",
       "      * free: true\n",
       "    * beta:\n",
       "      * value: -2.5\n",
       "      * desc: None\n",
       "      * min_value: -3.0\n",
       "      * max_value: -2.0\n",
       "      * unit: ''\n",
       "      * is_normalization: false\n",
       "      * delta: 0.25\n",
       "      * free: true\n",
       "    * epeak:\n",
       "      * value: 226.70849609375\n",
       "      * desc: None\n",
       "      * min_value: 50.0\n",
       "      * max_value: 1000.0\n",
       "      * unit: ''\n",
       "      * is_normalization: false\n",
       "      * delta: 22.670849609375\n",
       "      * free: true"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "table_model = db.to_3ml(\"my_model\", \"a new model for 3ML\")\n",
    "table_model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "3aafc068",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-09-25T17:20:06.731608Z",
     "iopub.status.busy": "2022-09-25T17:20:06.731342Z",
     "iopub.status.idle": "2022-09-25T17:20:07.492645Z",
     "shell.execute_reply": "2022-09-25T17:20:07.491593Z"
    }
   },
   "outputs": [],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "from astromodels import Band\n",
    "\n",
    "%matplotlib inline"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ca4042ee",
   "metadata": {},
   "source": [
    "We can compare our table model with the Band function."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "0c7dfc72",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-09-25T17:20:07.497716Z",
     "iopub.status.busy": "2022-09-25T17:20:07.497202Z",
     "iopub.status.idle": "2022-09-25T17:20:10.441289Z",
     "shell.execute_reply": "2022-09-25T17:20:10.440397Z"
    },
    "lines_to_next_cell": 2
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.legend.Legend at 0x7f90fdc61430>"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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f2wo/9hNxDAYfoyTEVMdhEYp8MiRUdAZIvLy8li6dCklJSW0trbS0dHB9OnTbedMmzbNttXFCSecQFNTE6WlpYwcOdJ27vr163G73eTk5NjG29vbSUpKGrCvQ0QOrq3OULvJsGujReuuw3tsxDCIHOEgaoSDyBEQNdxBWBw4Q44uZBjjCTutO/f0/+w0NJUZ2usO/ri23bBjpUXZh5A40UHKsU6i03SVRw7PkA06eXl55OXlebd5OJR4QniH2Yc+cQDFH+Ff17PPPssNN9zA/fffzwknnEBsbCz33Xcfn3766RHX0tTUhMvlYs2aNd32rIqJiTni5xWRw2d1GXZvM9SsMzSUHLzncS+HE6JTISbT0xQck+EgNHJgAoTD4SA8DsLjHCSM2Tfe0eipt7HUUF/oCUM9MW7YtcGwa4Ob6FRIP9FJwliHAo/0yZANOosXL2bx4sU0NDQQHx9/yPOdOA7ZCBwowsLCbAHuww8/5MQTT+QnP/mJd6ygoKDb49atW0dra6t3881PPvmEmJiYHvcDO/bYY3G73VRXVzN37twB+CpE5FDadhuq11nsXN+3GVKh0RA/xkHCWAfxIx24wvseFAyGVixacdOJoQtDFxZdGCJwEYmTSFxE4Ozz7NCwWAfDJzsYPtlz1ae5Amo3W9RuNXT0st9ycyVs+5dFdCpknOQkfowCjxzckA06wWzUqFF8+umnFBUVERMTw/jx43niiSd46623GD16NE8++SSfffYZo0ePtj2uo6ODq6++ml//+tcUFRVxyy23cO2113brzwHIycnh29/+NldccQX3338/xx57LDU1NSxfvpypU6dy3nnn+erLFRlyGssMlassdm879NWbsFhInORp7o1O7f22j8Gwkw6KaaWIVopppZx2aulkFx3sopN2+tbBHIuLEYQxgvA9/w0jmwjGEMUoIonu4a3H4XAQkw4x6S6yTjM0lUP1WovazQbTw4X35krY+k+L6DTInOskflRAr38rfqSgE4RuuOEGrrzySnJzc2ltbWXz5s188cUXXHbZZTgcDi6//HJ+8pOf8O9//9v2uDPOOIPx48dzyimn0N7ezuWXX86tt97a6+d59NFHufPOO/mf//kfysrKGD58OHPmzOH8888f4K9QZOgxluf2VMVnFs3lBz83JNLT05I0yUlMRs/hZicdfEUjG2jiKxrZRBNN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\n",
      "text/plain": [
       "<Figure size 640x480 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "import numpy as np\n",
    "\n",
    "ene = np.geomspace(10, 1000, 100)\n",
    "\n",
    "b = Band()\n",
    "b.alpha = -0.6\n",
    "b.beta = -2.5\n",
    "b.xp = 250\n",
    "b.K = 1.05\n",
    "\n",
    "table_model.alpha = -0.6\n",
    "table_model.beta = -2.5\n",
    "table_model.epeak = 250\n",
    "\n",
    "\n",
    "fig, ax = plt.subplots()\n",
    "\n",
    "ax.loglog(\n",
    "    ene, ene**2 * table_model(ene), color='#33FFC4', lw=3, label=\"table\"\n",
    ")\n",
    "ax.loglog(ene, ene**2 * b(ene), color='#C989FB', lw=3, label=\"band\")\n",
    "\n",
    "ax.set(xlabel=\"energy\", ylabel=\"vFv\")\n",
    "\n",
    "ax.legend()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d3239c59",
   "metadata": {},
   "source": [
    "Great! That was way easier than programming everything yourself.\n",
    "\n",
    "![alt text](https://raw.githubusercontent.com/grburgess/ronswanson/master/docs/media/happy.jpeg)\n",
    "\n",
    "\n",
    "Suppose we did not want to use all the values in the parameter ranges we have simulated. Bigger interpolation tables take up memory when fitting.\n",
    "\n",
    "We can select a subset of the parameter ranges when building the table"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "58e755a5",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-09-25T17:20:10.445130Z",
     "iopub.status.busy": "2022-09-25T17:20:10.444828Z",
     "iopub.status.idle": "2022-09-25T17:20:10.646556Z",
     "shell.execute_reply": "2022-09-25T17:20:10.645621Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #00ff00; text-decoration-color: #00ff00\">17:20:10 </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">WARNING </span> <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\"> Energy unit is not a Quantity instance, so units has not been provided.    </span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/template_model.py\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">template_model.py</span></a><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">:</span><a href=\"file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/template_model.py#106\" target=\"_blank\"><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">106</span></a>\n",
       "<span style=\"color: #00ff00; text-decoration-color: #00ff00\">         </span>         <span style=\"color: #c6c6c6; text-decoration-color: #c6c6c6; font-weight: bold\">Using keV.                                                                  </span><span style=\"color: #7f7f7f; text-decoration-color: #7f7f7f\">                     </span>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[38;5;46m17:20:10\u001b[0m\u001b[38;5;46m \u001b[0m\u001b[38;5;134mWARNING \u001b[0m \u001b[1;38;5;251m Energy unit is not a Quantity instance, so units has not been provided.   \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b]8;id=223323;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/template_model.py\u001b\\\u001b[2mtemplate_model.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=237635;file:///opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/astromodels/functions/template_model.py#106\u001b\\\u001b[2m106\u001b[0m\u001b]8;;\u001b\\\n",
       "\u001b[38;5;46m         \u001b[0m         \u001b[1;38;5;251mUsing keV.                                                                 \u001b[0m\u001b[1;38;5;251m \u001b[0m\u001b[2m                     \u001b[0m\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/vnd.jupyter.widget-view+json": {
       "model_id": "a9660f30f15746389daf099000006a2f",
       "version_major": 2,
       "version_minor": 0
      },
      "text/plain": [
       "  0%|          | 0/45 [00:00<?, ?it/s]"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<ul>\n",
       "\n",
       "<li>description: a new model for 3ML</li>\n",
       "\n",
       "<li>formula: n.a.</li>\n",
       "\n",
       "<li>parameters: \n",
       "<ul>\n",
       "\n",
       "<li>K: \n",
       "<ul>\n",
       "\n",
       "<li>value: 1.0</li>\n",
       "\n",
       "<li>desc: None</li>\n",
       "\n",
       "<li>min_value: None</li>\n",
       "\n",
       "<li>max_value: None</li>\n",
       "\n",
       "<li>unit: </li>\n",
       "\n",
       "<li>is_normalization: False</li>\n",
       "\n",
       "<li>delta: 0.1</li>\n",
       "\n",
       "<li>free: True</li>\n",
       "\n",
       "</ul>\n",
       "\n",
       "</li>\n",
       "\n",
       "<li>scale: \n",
       "<ul>\n",
       "\n",
       "<li>value: 1.0</li>\n",
       "\n",
       "<li>desc: None</li>\n",
       "\n",
       "<li>min_value: None</li>\n",
       "\n",
       "<li>max_value: None</li>\n",
       "\n",
       "<li>unit: </li>\n",
       "\n",
       "<li>is_normalization: False</li>\n",
       "\n",
       "<li>delta: 0.1</li>\n",
       "\n",
       "<li>free: True</li>\n",
       "\n",
       "</ul>\n",
       "\n",
       "</li>\n",
       "\n",
       "<li>alpha: \n",
       "<ul>\n",
       "\n",
       "<li>value: -0.5</li>\n",
       "\n",
       "<li>desc: None</li>\n",
       "\n",
       "<li>min_value: -1.0</li>\n",
       "\n",
       "<li>max_value: 0.0</li>\n",
       "\n",
       "<li>unit: </li>\n",
       "\n",
       "<li>is_normalization: False</li>\n",
       "\n",
       "<li>delta: 0.05</li>\n",
       "\n",
       "<li>free: True</li>\n",
       "\n",
       "</ul>\n",
       "\n",
       "</li>\n",
       "\n",
       "<li>beta: \n",
       "<ul>\n",
       "\n",
       "<li>value: -2.5</li>\n",
       "\n",
       "<li>desc: None</li>\n",
       "\n",
       "<li>min_value: -3.0</li>\n",
       "\n",
       "<li>max_value: -2.0</li>\n",
       "\n",
       "<li>unit: </li>\n",
       "\n",
       "<li>is_normalization: False</li>\n",
       "\n",
       "<li>delta: 0.25</li>\n",
       "\n",
       "<li>free: True</li>\n",
       "\n",
       "</ul>\n",
       "\n",
       "</li>\n",
       "\n",
       "<li>epeak: \n",
       "<ul>\n",
       "\n",
       "<li>value: 368.3999938964844</li>\n",
       "\n",
       "<li>desc: None</li>\n",
       "\n",
       "<li>min_value: 264.09698486328125</li>\n",
       "\n",
       "<li>max_value: 513.9000244140625</li>\n",
       "\n",
       "<li>unit: </li>\n",
       "\n",
       "<li>is_normalization: False</li>\n",
       "\n",
       "<li>delta: 36.83999938964844</li>\n",
       "\n",
       "<li>free: True</li>\n",
       "\n",
       "</ul>\n",
       "\n",
       "</li>\n",
       "\n",
       "</ul>\n",
       "\n",
       "</li>\n",
       "\n",
       "</ul>\n"
      ],
      "text/plain": [
       "  * description: a new model for 3ML\n",
       "  * formula: n.a.\n",
       "  * parameters:\n",
       "    * K:\n",
       "      * value: 1.0\n",
       "      * desc: None\n",
       "      * min_value: null\n",
       "      * max_value: null\n",
       "      * unit: ''\n",
       "      * is_normalization: false\n",
       "      * delta: 0.1\n",
       "      * free: true\n",
       "    * scale:\n",
       "      * value: 1.0\n",
       "      * desc: None\n",
       "      * min_value: null\n",
       "      * max_value: null\n",
       "      * unit: ''\n",
       "      * is_normalization: false\n",
       "      * delta: 0.1\n",
       "      * free: true\n",
       "    * alpha:\n",
       "      * value: -0.5\n",
       "      * desc: None\n",
       "      * min_value: -1.0\n",
       "      * max_value: 0.0\n",
       "      * unit: ''\n",
       "      * is_normalization: false\n",
       "      * delta: 0.05\n",
       "      * free: true\n",
       "    * beta:\n",
       "      * value: -2.5\n",
       "      * desc: None\n",
       "      * min_value: -3.0\n",
       "      * max_value: -2.0\n",
       "      * unit: ''\n",
       "      * is_normalization: false\n",
       "      * delta: 0.25\n",
       "      * free: true\n",
       "    * epeak:\n",
       "      * value: 368.3999938964844\n",
       "      * desc: None\n",
       "      * min_value: 264.09698486328125\n",
       "      * max_value: 513.9000244140625\n",
       "      * unit: ''\n",
       "      * is_normalization: false\n",
       "      * delta: 36.83999938964844\n",
       "      * free: true"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "selection = {}\n",
    "selection['alpha'] = dict(vmax=0)\n",
    "selection['epeak'] = dict(vmin=200, vmax=700)\n",
    "\n",
    "table_model_small = db.to_3ml(\n",
    "    \"my_model_small\", \"a new model for 3ML\", **selection\n",
    ")\n",
    "table_model_small"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "c6178b4c",
   "metadata": {},
   "source": [
    "Awesome! Now go enjoy your weekend.\n",
    "\n",
    "![alt text](https://raw.githubusercontent.com/grburgess/ronswanson/master/docs/media/enjoy.jpg)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a94abc8d",
   "metadata": {},
   "source": [
    "## User configuration\n",
    "\n",
    "A simple YAML configuration is stored in ```~/.config/ronswanson/ronswanson_config.yml```. It allows for configuring the log as well as putting default SLURM configuration parameters.\n",
    "\n",
    "An example:\n",
    "\n",
    "```yaml\n",
    "\n",
    "logging:\n",
    "  'on': on\n",
    "  level: INFO\n",
    "slurm:\n",
    "\n",
    "  # where to send SLURM emails\n",
    "  user_email: my_email.com\n",
    "\n",
    "  # modules to be loaded for MPI jobs (gather script)\n",
    "  mpi_modules: ['intel/21.4.0', 'impi/2021.4',\n",
    "  'anaconda/3/2021.11','hdf5-mpi/1.12.2', 'mpi4py/3.0.3', 'h5py-mpi/2.10']\n",
    "\n",
    "  # modules to load for simulation jobs\n",
    "  modules: ['intel/21.4.0', 'impi/2021.4', 'anaconda/3/2021.11','hdf5-serial/1.12.2']\n",
    "\n",
    "  # the python binary for running the simulation jobs\n",
    "  python: \"python3\"\n",
    "\n",
    "  # where to store the simulations before\n",
    "  # database creation (default will be the directory where the code is run)\n",
    "  store_dir: /ptmp/jburgess\n",
    "\n",
    "```\n",
    "\n",
    "The configuration can be modified on the fly."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "6238cb4b",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-09-25T17:20:10.650950Z",
     "iopub.status.busy": "2022-09-25T17:20:10.650683Z",
     "iopub.status.idle": "2022-09-25T17:20:10.655059Z",
     "shell.execute_reply": "2022-09-25T17:20:10.654184Z"
    }
   },
   "outputs": [],
   "source": [
    "from ronswanson import ronswanson_config, show_configuration"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "2a1efd88",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-09-25T17:20:10.659143Z",
     "iopub.status.busy": "2022-09-25T17:20:10.658871Z",
     "iopub.status.idle": "2022-09-25T17:20:10.666826Z",
     "shell.execute_reply": "2022-09-25T17:20:10.666180Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold\">config</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">┣━━ </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold\">logging</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">┃   ┣━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">on: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">True</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">┃   ┗━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">level: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">WARNING</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">┗━━ </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold\">slurm</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">    ┣━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">user_email: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">user@email.com</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">    ┣━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">modules: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">None</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">    ┣━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">mpi_modules: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">None</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">    ┣━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">python: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">python</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">    ┗━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">store_dir: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">None</span>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[1;38;5;134mconfig\u001b[0m\n",
       "\u001b[38;5;134m┣━━ \u001b[0m\u001b[1;38;5;134mlogging\u001b[0m\n",
       "\u001b[38;5;134m┃   \u001b[0m\u001b[38;5;134m┣━━ \u001b[0m\u001b[1;38;5;49mon: \u001b[0m\u001b[1;5;38;5;69mTrue\u001b[0m\n",
       "\u001b[38;5;134m┃   \u001b[0m\u001b[38;5;134m┗━━ \u001b[0m\u001b[1;38;5;49mlevel: \u001b[0m\u001b[1;5;38;5;69mWARNING\u001b[0m\n",
       "\u001b[38;5;134m┗━━ \u001b[0m\u001b[1;38;5;134mslurm\u001b[0m\n",
       "\u001b[38;5;134m    \u001b[0m\u001b[38;5;134m┣━━ \u001b[0m\u001b[1;38;5;49muser_email: \u001b[0m\u001b[1;5;38;5;69muser@email.com\u001b[0m\n",
       "\u001b[38;5;134m    \u001b[0m\u001b[38;5;134m┣━━ \u001b[0m\u001b[1;38;5;49mmodules: \u001b[0m\u001b[1;5;38;5;69mNone\u001b[0m\n",
       "\u001b[38;5;134m    \u001b[0m\u001b[38;5;134m┣━━ \u001b[0m\u001b[1;38;5;49mmpi_modules: \u001b[0m\u001b[1;5;38;5;69mNone\u001b[0m\n",
       "\u001b[38;5;134m    \u001b[0m\u001b[38;5;134m┣━━ \u001b[0m\u001b[1;38;5;49mpython: \u001b[0m\u001b[1;5;38;5;69mpython\u001b[0m\n",
       "\u001b[38;5;134m    \u001b[0m\u001b[38;5;134m┗━━ \u001b[0m\u001b[1;38;5;49mstore_dir: \u001b[0m\u001b[1;5;38;5;69mNone\u001b[0m\n"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "show_configuration()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "bc3a3bf6",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-09-25T17:20:10.670496Z",
     "iopub.status.busy": "2022-09-25T17:20:10.670231Z",
     "iopub.status.idle": "2022-09-25T17:20:10.675801Z",
     "shell.execute_reply": "2022-09-25T17:20:10.674940Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'user@email.com'"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "ronswanson_config.slurm.user_email"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "5630674c",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-09-25T17:20:10.682568Z",
     "iopub.status.busy": "2022-09-25T17:20:10.680412Z",
     "iopub.status.idle": "2022-09-25T17:20:10.686328Z",
     "shell.execute_reply": "2022-09-25T17:20:10.685467Z"
    }
   },
   "outputs": [],
   "source": [
    "ronswanson_config.slurm.user_email = \"workemail@email.com\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "95327de4",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-09-25T17:20:10.690014Z",
     "iopub.status.busy": "2022-09-25T17:20:10.689697Z",
     "iopub.status.idle": "2022-09-25T17:20:10.697124Z",
     "shell.execute_reply": "2022-09-25T17:20:10.696266Z"
    }
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold\">config</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">┣━━ </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold\">logging</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">┃   ┣━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">on: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">True</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">┃   ┗━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">level: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">WARNING</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">┗━━ </span><span style=\"color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold\">slurm</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">    ┣━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">user_email: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">workemail@email.com</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">    ┣━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">modules: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">None</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">    ┣━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">mpi_modules: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">None</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">    ┣━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">python: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">python</span>\n",
       "<span style=\"color: #af5fd7; text-decoration-color: #af5fd7\">    ┗━━ </span><span style=\"color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold\">store_dir: </span><span style=\"color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold\">None</span>\n",
       "</pre>\n"
      ],
      "text/plain": [
       "\u001b[1;38;5;134mconfig\u001b[0m\n",
       "\u001b[38;5;134m┣━━ \u001b[0m\u001b[1;38;5;134mlogging\u001b[0m\n",
       "\u001b[38;5;134m┃   \u001b[0m\u001b[38;5;134m┣━━ \u001b[0m\u001b[1;38;5;49mon: \u001b[0m\u001b[1;5;38;5;69mTrue\u001b[0m\n",
       "\u001b[38;5;134m┃   \u001b[0m\u001b[38;5;134m┗━━ \u001b[0m\u001b[1;38;5;49mlevel: \u001b[0m\u001b[1;5;38;5;69mWARNING\u001b[0m\n",
       "\u001b[38;5;134m┗━━ \u001b[0m\u001b[1;38;5;134mslurm\u001b[0m\n",
       "\u001b[38;5;134m    \u001b[0m\u001b[38;5;134m┣━━ \u001b[0m\u001b[1;38;5;49muser_email: \u001b[0m\u001b[1;5;38;5;69mworkemail@email.com\u001b[0m\n",
       "\u001b[38;5;134m    \u001b[0m\u001b[38;5;134m┣━━ \u001b[0m\u001b[1;38;5;49mmodules: \u001b[0m\u001b[1;5;38;5;69mNone\u001b[0m\n",
       "\u001b[38;5;134m    \u001b[0m\u001b[38;5;134m┣━━ \u001b[0m\u001b[1;38;5;49mmpi_modules: \u001b[0m\u001b[1;5;38;5;69mNone\u001b[0m\n",
       "\u001b[38;5;134m    \u001b[0m\u001b[38;5;134m┣━━ \u001b[0m\u001b[1;38;5;49mpython: \u001b[0m\u001b[1;5;38;5;69mpython\u001b[0m\n",
       "\u001b[38;5;134m    \u001b[0m\u001b[38;5;134m┗━━ \u001b[0m\u001b[1;38;5;49mstore_dir: \u001b[0m\u001b[1;5;38;5;69mNone\u001b[0m\n"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "show_configuration()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "1af5c51e",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "jupytext": {
   "formats": "ipynb,md"
  },
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.13"
  },
  "widgets": {
   "application/vnd.jupyter.widget-state+json": {
    "state": {
     "00ad284355e74842a506610f5682cf52": {
      "model_module": "@jupyter-widgets/base",
      "model_module_version": "2.0.0",
      "model_name": "LayoutModel",
      "state": {
       "_model_module": "@jupyter-widgets/base",
       "_model_module_version": "2.0.0",
       "_model_name": "LayoutModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "LayoutView",
       "align_content": null,
       "align_items": null,
       "align_self": null,
       "border_bottom": null,
       "border_left": null,
       "border_right": null,
       "border_top": null,
       "bottom": null,
       "display": null,
       "flex": null,
       "flex_flow": null,
       "grid_area": null,
       "grid_auto_columns": null,
       "grid_auto_flow": null,
       "grid_auto_rows": null,
       "grid_column": null,
       "grid_gap": null,
       "grid_row": null,
       "grid_template_areas": null,
       "grid_template_columns": null,
       "grid_template_rows": null,
       "height": null,
       "justify_content": null,
       "justify_items": null,
       "left": null,
       "margin": null,
       "max_height": null,
       "max_width": null,
       "min_height": null,
       "min_width": null,
       "object_fit": null,
       "object_position": null,
       "order": null,
       "overflow": null,
       "padding": null,
       "right": null,
       "top": null,
       "visibility": null,
       "width": null
      }
     },
     "099b668a8b524c62a5a371e2c7d81ab1": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "HTMLStyleModel",
      "state": {
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "HTMLStyleModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "StyleView",
       "background": null,
       "description_width": "",
       "font_size": null,
       "text_color": null
      }
     },
     "28bcb558451e48098b6d60c646c7313a": {
      "model_module": "@jupyter-widgets/base",
      "model_module_version": "2.0.0",
      "model_name": "LayoutModel",
      "state": {
       "_model_module": "@jupyter-widgets/base",
       "_model_module_version": "2.0.0",
       "_model_name": "LayoutModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "LayoutView",
       "align_content": null,
       "align_items": null,
       "align_self": null,
       "border_bottom": null,
       "border_left": null,
       "border_right": null,
       "border_top": null,
       "bottom": null,
       "display": null,
       "flex": null,
       "flex_flow": null,
       "grid_area": null,
       "grid_auto_columns": null,
       "grid_auto_flow": null,
       "grid_auto_rows": null,
       "grid_column": null,
       "grid_gap": null,
       "grid_row": null,
       "grid_template_areas": null,
       "grid_template_columns": null,
       "grid_template_rows": null,
       "height": null,
       "justify_content": null,
       "justify_items": null,
       "left": null,
       "margin": null,
       "max_height": null,
       "max_width": null,
       "min_height": null,
       "min_width": null,
       "object_fit": null,
       "object_position": null,
       "order": null,
       "overflow": null,
       "padding": null,
       "right": null,
       "top": null,
       "visibility": null,
       "width": null
      }
     },
     "2be95f38c22f4c92a6c57a7d8e69540f": {
      "model_module": "@jupyter-widgets/base",
      "model_module_version": "2.0.0",
      "model_name": "LayoutModel",
      "state": {
       "_model_module": "@jupyter-widgets/base",
       "_model_module_version": "2.0.0",
       "_model_name": "LayoutModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "LayoutView",
       "align_content": null,
       "align_items": null,
       "align_self": null,
       "border_bottom": null,
       "border_left": null,
       "border_right": null,
       "border_top": null,
       "bottom": null,
       "display": null,
       "flex": null,
       "flex_flow": null,
       "grid_area": null,
       "grid_auto_columns": null,
       "grid_auto_flow": null,
       "grid_auto_rows": null,
       "grid_column": null,
       "grid_gap": null,
       "grid_row": null,
       "grid_template_areas": null,
       "grid_template_columns": null,
       "grid_template_rows": null,
       "height": null,
       "justify_content": null,
       "justify_items": null,
       "left": null,
       "margin": null,
       "max_height": null,
       "max_width": null,
       "min_height": null,
       "min_width": null,
       "object_fit": null,
       "object_position": null,
       "order": null,
       "overflow": null,
       "padding": null,
       "right": null,
       "top": null,
       "visibility": null,
       "width": null
      }
     },
     "5c327f32497448a5b4e5743ab2f8f644": {
      "model_module": "@jupyter-widgets/base",
      "model_module_version": "2.0.0",
      "model_name": "LayoutModel",
      "state": {
       "_model_module": "@jupyter-widgets/base",
       "_model_module_version": "2.0.0",
       "_model_name": "LayoutModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "LayoutView",
       "align_content": null,
       "align_items": null,
       "align_self": null,
       "border_bottom": null,
       "border_left": null,
       "border_right": null,
       "border_top": null,
       "bottom": null,
       "display": null,
       "flex": null,
       "flex_flow": null,
       "grid_area": null,
       "grid_auto_columns": null,
       "grid_auto_flow": null,
       "grid_auto_rows": null,
       "grid_column": null,
       "grid_gap": null,
       "grid_row": null,
       "grid_template_areas": null,
       "grid_template_columns": null,
       "grid_template_rows": null,
       "height": null,
       "justify_content": null,
       "justify_items": null,
       "left": null,
       "margin": null,
       "max_height": null,
       "max_width": null,
       "min_height": null,
       "min_width": null,
       "object_fit": null,
       "object_position": null,
       "order": null,
       "overflow": null,
       "padding": null,
       "right": null,
       "top": null,
       "visibility": null,
       "width": null
      }
     },
     "610734464a6048de91122df7c702fe70": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "HTMLModel",
      "state": {
       "_dom_classes": [],
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "HTMLModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/controls",
       "_view_module_version": "2.0.0",
       "_view_name": "HTMLView",
       "description": "",
       "description_allow_html": false,
       "layout": "IPY_MODEL_e0c73a9b69d44abbba1f465b2b4de09d",
       "placeholder": "​",
       "style": "IPY_MODEL_099b668a8b524c62a5a371e2c7d81ab1",
       "tabbable": null,
       "tooltip": null,
       "value": " 250/250 [00:00&lt;00:00, 1402.56it/s]"
      }
     },
     "6353cf2c6c784f1c966cc8c0215d8374": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "FloatProgressModel",
      "state": {
       "_dom_classes": [],
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "FloatProgressModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/controls",
       "_view_module_version": "2.0.0",
       "_view_name": "ProgressView",
       "bar_style": "success",
       "description": "",
       "description_allow_html": false,
       "layout": "IPY_MODEL_e52d674dce684792a207ad061a75f7cd",
       "max": 250.0,
       "min": 0.0,
       "orientation": "horizontal",
       "style": "IPY_MODEL_b22245f3b5dd4fb5a5af8bb502a2f831",
       "tabbable": null,
       "tooltip": null,
       "value": 250.0
      }
     },
     "7e84c69a1ad0446c8b5d4e295c426bf9": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "HTMLModel",
      "state": {
       "_dom_classes": [],
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "HTMLModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/controls",
       "_view_module_version": "2.0.0",
       "_view_name": "HTMLView",
       "description": "",
       "description_allow_html": false,
       "layout": "IPY_MODEL_00ad284355e74842a506610f5682cf52",
       "placeholder": "​",
       "style": "IPY_MODEL_bf03b8af50f844389c657d68401cc4f0",
       "tabbable": null,
       "tooltip": null,
       "value": "100%"
      }
     },
     "7f3a307df27e4893899a55719bca5650": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "HTMLStyleModel",
      "state": {
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "HTMLStyleModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "StyleView",
       "background": null,
       "description_width": "",
       "font_size": null,
       "text_color": null
      }
     },
     "8c5d66f8ec6e406b82128a89ce50f4e6": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "HTMLStyleModel",
      "state": {
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "HTMLStyleModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "StyleView",
       "background": null,
       "description_width": "",
       "font_size": null,
       "text_color": null
      }
     },
     "92fc1d0cc28140668d9a17e11496bfb1": {
      "model_module": "@jupyter-widgets/base",
      "model_module_version": "2.0.0",
      "model_name": "LayoutModel",
      "state": {
       "_model_module": "@jupyter-widgets/base",
       "_model_module_version": "2.0.0",
       "_model_name": "LayoutModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "LayoutView",
       "align_content": null,
       "align_items": null,
       "align_self": null,
       "border_bottom": null,
       "border_left": null,
       "border_right": null,
       "border_top": null,
       "bottom": null,
       "display": null,
       "flex": null,
       "flex_flow": null,
       "grid_area": null,
       "grid_auto_columns": null,
       "grid_auto_flow": null,
       "grid_auto_rows": null,
       "grid_column": null,
       "grid_gap": null,
       "grid_row": null,
       "grid_template_areas": null,
       "grid_template_columns": null,
       "grid_template_rows": null,
       "height": null,
       "justify_content": null,
       "justify_items": null,
       "left": null,
       "margin": null,
       "max_height": null,
       "max_width": null,
       "min_height": null,
       "min_width": null,
       "object_fit": null,
       "object_position": null,
       "order": null,
       "overflow": null,
       "padding": null,
       "right": null,
       "top": null,
       "visibility": null,
       "width": null
      }
     },
     "a9660f30f15746389daf099000006a2f": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "HBoxModel",
      "state": {
       "_dom_classes": [],
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "HBoxModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/controls",
       "_view_module_version": "2.0.0",
       "_view_name": "HBoxView",
       "box_style": "",
       "children": [
        "IPY_MODEL_7e84c69a1ad0446c8b5d4e295c426bf9",
        "IPY_MODEL_f8847563ef694f3da9b694d710055c35",
        "IPY_MODEL_c0a75373d10243e6964cceeac360ff06"
       ],
       "layout": "IPY_MODEL_c46171a887ad403bb48bf69b4be38c6a",
       "tabbable": null,
       "tooltip": null
      }
     },
     "b22245f3b5dd4fb5a5af8bb502a2f831": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "ProgressStyleModel",
      "state": {
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "ProgressStyleModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "StyleView",
       "bar_color": null,
       "description_width": ""
      }
     },
     "bf03b8af50f844389c657d68401cc4f0": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "HTMLStyleModel",
      "state": {
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "HTMLStyleModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "StyleView",
       "background": null,
       "description_width": "",
       "font_size": null,
       "text_color": null
      }
     },
     "c0a75373d10243e6964cceeac360ff06": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "HTMLModel",
      "state": {
       "_dom_classes": [],
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "HTMLModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/controls",
       "_view_module_version": "2.0.0",
       "_view_name": "HTMLView",
       "description": "",
       "description_allow_html": false,
       "layout": "IPY_MODEL_2be95f38c22f4c92a6c57a7d8e69540f",
       "placeholder": "​",
       "style": "IPY_MODEL_7f3a307df27e4893899a55719bca5650",
       "tabbable": null,
       "tooltip": null,
       "value": " 45/45 [00:00&lt;00:00, 865.07it/s]"
      }
     },
     "c46171a887ad403bb48bf69b4be38c6a": {
      "model_module": "@jupyter-widgets/base",
      "model_module_version": "2.0.0",
      "model_name": "LayoutModel",
      "state": {
       "_model_module": "@jupyter-widgets/base",
       "_model_module_version": "2.0.0",
       "_model_name": "LayoutModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "LayoutView",
       "align_content": null,
       "align_items": null,
       "align_self": null,
       "border_bottom": null,
       "border_left": null,
       "border_right": null,
       "border_top": null,
       "bottom": null,
       "display": null,
       "flex": null,
       "flex_flow": null,
       "grid_area": null,
       "grid_auto_columns": null,
       "grid_auto_flow": null,
       "grid_auto_rows": null,
       "grid_column": null,
       "grid_gap": null,
       "grid_row": null,
       "grid_template_areas": null,
       "grid_template_columns": null,
       "grid_template_rows": null,
       "height": null,
       "justify_content": null,
       "justify_items": null,
       "left": null,
       "margin": null,
       "max_height": null,
       "max_width": null,
       "min_height": null,
       "min_width": null,
       "object_fit": null,
       "object_position": null,
       "order": null,
       "overflow": null,
       "padding": null,
       "right": null,
       "top": null,
       "visibility": null,
       "width": null
      }
     },
     "d796e4d69c8348379a2022dadb943f8e": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "HBoxModel",
      "state": {
       "_dom_classes": [],
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "HBoxModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/controls",
       "_view_module_version": "2.0.0",
       "_view_name": "HBoxView",
       "box_style": "",
       "children": [
        "IPY_MODEL_f1cb0512d0cd407584b277ec150eb829",
        "IPY_MODEL_6353cf2c6c784f1c966cc8c0215d8374",
        "IPY_MODEL_610734464a6048de91122df7c702fe70"
       ],
       "layout": "IPY_MODEL_5c327f32497448a5b4e5743ab2f8f644",
       "tabbable": null,
       "tooltip": null
      }
     },
     "e0c73a9b69d44abbba1f465b2b4de09d": {
      "model_module": "@jupyter-widgets/base",
      "model_module_version": "2.0.0",
      "model_name": "LayoutModel",
      "state": {
       "_model_module": "@jupyter-widgets/base",
       "_model_module_version": "2.0.0",
       "_model_name": "LayoutModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "LayoutView",
       "align_content": null,
       "align_items": null,
       "align_self": null,
       "border_bottom": null,
       "border_left": null,
       "border_right": null,
       "border_top": null,
       "bottom": null,
       "display": null,
       "flex": null,
       "flex_flow": null,
       "grid_area": null,
       "grid_auto_columns": null,
       "grid_auto_flow": null,
       "grid_auto_rows": null,
       "grid_column": null,
       "grid_gap": null,
       "grid_row": null,
       "grid_template_areas": null,
       "grid_template_columns": null,
       "grid_template_rows": null,
       "height": null,
       "justify_content": null,
       "justify_items": null,
       "left": null,
       "margin": null,
       "max_height": null,
       "max_width": null,
       "min_height": null,
       "min_width": null,
       "object_fit": null,
       "object_position": null,
       "order": null,
       "overflow": null,
       "padding": null,
       "right": null,
       "top": null,
       "visibility": null,
       "width": null
      }
     },
     "e52d674dce684792a207ad061a75f7cd": {
      "model_module": "@jupyter-widgets/base",
      "model_module_version": "2.0.0",
      "model_name": "LayoutModel",
      "state": {
       "_model_module": "@jupyter-widgets/base",
       "_model_module_version": "2.0.0",
       "_model_name": "LayoutModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "LayoutView",
       "align_content": null,
       "align_items": null,
       "align_self": null,
       "border_bottom": null,
       "border_left": null,
       "border_right": null,
       "border_top": null,
       "bottom": null,
       "display": null,
       "flex": null,
       "flex_flow": null,
       "grid_area": null,
       "grid_auto_columns": null,
       "grid_auto_flow": null,
       "grid_auto_rows": null,
       "grid_column": null,
       "grid_gap": null,
       "grid_row": null,
       "grid_template_areas": null,
       "grid_template_columns": null,
       "grid_template_rows": null,
       "height": null,
       "justify_content": null,
       "justify_items": null,
       "left": null,
       "margin": null,
       "max_height": null,
       "max_width": null,
       "min_height": null,
       "min_width": null,
       "object_fit": null,
       "object_position": null,
       "order": null,
       "overflow": null,
       "padding": null,
       "right": null,
       "top": null,
       "visibility": null,
       "width": null
      }
     },
     "ea2c51017f7d44b5bbc44d697f0f04ef": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "ProgressStyleModel",
      "state": {
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "ProgressStyleModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/base",
       "_view_module_version": "2.0.0",
       "_view_name": "StyleView",
       "bar_color": null,
       "description_width": ""
      }
     },
     "f1cb0512d0cd407584b277ec150eb829": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "HTMLModel",
      "state": {
       "_dom_classes": [],
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "HTMLModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/controls",
       "_view_module_version": "2.0.0",
       "_view_name": "HTMLView",
       "description": "",
       "description_allow_html": false,
       "layout": "IPY_MODEL_92fc1d0cc28140668d9a17e11496bfb1",
       "placeholder": "​",
       "style": "IPY_MODEL_8c5d66f8ec6e406b82128a89ce50f4e6",
       "tabbable": null,
       "tooltip": null,
       "value": "100%"
      }
     },
     "f8847563ef694f3da9b694d710055c35": {
      "model_module": "@jupyter-widgets/controls",
      "model_module_version": "2.0.0",
      "model_name": "FloatProgressModel",
      "state": {
       "_dom_classes": [],
       "_model_module": "@jupyter-widgets/controls",
       "_model_module_version": "2.0.0",
       "_model_name": "FloatProgressModel",
       "_view_count": null,
       "_view_module": "@jupyter-widgets/controls",
       "_view_module_version": "2.0.0",
       "_view_name": "ProgressView",
       "bar_style": "success",
       "description": "",
       "description_allow_html": false,
       "layout": "IPY_MODEL_28bcb558451e48098b6d60c646c7313a",
       "max": 45.0,
       "min": 0.0,
       "orientation": "horizontal",
       "style": "IPY_MODEL_ea2c51017f7d44b5bbc44d697f0f04ef",
       "tabbable": null,
       "tooltip": null,
       "value": 45.0
      }
     }
    },
    "version_major": 2,
    "version_minor": 0
   }
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
